type: picture-elements
image: /local/frontend/slinky_card.jpg
style: |
  .element[class~=element] {
    position: relative;
    transform: none;
  }
  ::-webkit-scrollbar {
    width: 3px;
    height: 3px;
  }
  ::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.45);
  }
  ::-webkit-scrollbar-thumb {
    background: rgba(0, 139, 239, 0.45);
  }
  ::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 139, 239, 1);
  }
elements:
  - type: custom:group-element
    visible: true
    no_toggle_hide: true
    elements_pos:
      position: absolute
      top: 0
      right: 0
      left: 0
      bottom: 0
      display: flex
      flex-direction: column
      "--secondary-text-color": "#DADADB"
      "--primary-text-color": "#DADADB"
      "--paper-item-icon-color": "#DADADB"
      "--iron-icon-width": 40px
      "--iron-icon-height": 40px
      "--ha-card-background": rgba(0, 0, 0, 0)
      "--ha-card-box-shadow": none
    elements:
      - type: custom:group-element # Content
        visible: true
        no_toggle_hide: true
        elements_pos:
          order: 1
          flex-grow: 1
          flex-shrink: 1
          display: flex
          overflow: auto hidden
          scroll-behavior: smooth
          scroll-snap-type: x mandatory
          "-webkit-overflow-scrolling": touch
          "--iron-icon-width": 24px
          "--iron-icon-height": 24px
        elements:
          - type: conditional # Problem indicator
            conditions:
              - entity: binary_sensor.slinky_requires_attention
                state: "on"
            elements:
              - type: icon
                icon: mdi:alert-circle
                entity: binary_sensor.slinky_requires_attention
                style:
                  position: absolute
                  right: 1em
                  top: 1.25em
                  color: var(--google-red-500)
                  filter: drop-shadow(black 0 0 1px)

          - type: custom:gap-card # Initial
            height: 0
            style: &content_slide_style
              display: block
              width: 100%
              height: 100%
              flex-shrink: 0
              scroll-snap-align: start

          - type: custom:hui-vertical-stack-card # All switches
            style:
              <<: *content_slide_style
              background-color: rgba(0, 0, 0, 0.75)
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    name: Scheduling
                    entity: input_boolean.slinky_scheduled_lights
                    hold_action:
                      action: more-info
                    lock:
                      enabled: true
                    aspect_ratio: 1.7/1
                    styles: &content_button_styles
                      name:
                        - font-size: 14px
                        - padding: 0px 5px
                      label:
                        - color: "#80828A"
                        - font-size: 12px
                        - padding: 0px 5px
                  - type: custom:button-card
                    name: Master
                    entity: switch.slinky_power_strip
                    hold_action:
                      action: more-info
                      entity: sensor.slinky_power_strip_power
                    lock:
                      enabled: true
                    aspect_ratio: 1.7/1
                    styles: *content_button_styles
                    show_label: yes
                    label: >
                      [[[
                        return Math.round(states['sensor.slinky_power_strip_power'].state)
                            + ' '
                            + states['sensor.slinky_power_strip_power'].attributes['unit_of_measurement']
                            + ' ⁓ '
                            + Math.round(states['sensor.slinky_power_strip_energy'].state)
                            + ' '
                            + states['sensor.slinky_power_strip_energy'].attributes['unit_of_measurement']
                      ]]]
                  - type: custom:button-card
                    name: Controller
                    entity: switch.slinky_outlet_5
                    hold_action:
                      action: more-info
                      entity: sensor.slinky_outlet_5_power
                    lock:
                      enabled: true
                    aspect_ratio: 1.7/1
                    styles: *content_button_styles
                    show_label: yes
                    label: >
                      [[[
                        return Math.round(states['sensor.slinky_outlet_5_power'].state)
                            + ' '
                            + states['sensor.slinky_outlet_5_power'].attributes['unit_of_measurement']
                            + ' ⁓ '
                            + Math.round(states['sensor.slinky_outlet_5_energy'].state)
                            + ' '
                            + states['sensor.slinky_outlet_5_energy'].attributes['unit_of_measurement']
                      ]]]
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    name: UV light
                    entity: switch.slinky_uv_light
                    hold_action:
                      action: more-info
                      entity: sensor.slinky_uv_light_power
                    aspect_ratio: 1.2/1
                    styles: *content_button_styles
                    show_label: yes
                    label: >
                      [[[
                        return Math.round(states['sensor.slinky_uv_light_power'].state)
                            + ' '
                            + states['sensor.slinky_uv_light_power'].attributes['unit_of_measurement']
                            + ' ⁓ '
                            + Math.round(states['sensor.slinky_uv_light_energy'].state)
                            + ' '
                            + states['sensor.slinky_uv_light_energy'].attributes['unit_of_measurement']
                      ]]]
                  - type: custom:button-card
                    name: Heater
                    entity: switch.slinky_heater
                    hold_action:
                      action: more-info
                      entity: sensor.slinky_heater_power
                    aspect_ratio: 1.2/1
                    styles: *content_button_styles
                    show_label: yes
                    label: >
                      [[[
                        return Math.round(states['sensor.slinky_heater_power'].state)
                            + ' '
                            + states['sensor.slinky_heater_power'].attributes['unit_of_measurement']
                            + ' ⁓ '
                            + Math.round(states['sensor.slinky_heater_energy'].state)
                            + ' '
                            + states['sensor.slinky_heater_energy'].attributes['unit_of_measurement']
                      ]]]
                  - type: custom:button-card
                    name: Heat bulb
                    entity: switch.slinky_heat_bulb
                    hold_action:
                      action: more-info
                      entity: sensor.slinky_heat_bulb_power
                    aspect_ratio: 1.2/1
                    styles: *content_button_styles
                    show_label: yes
                    label: >
                      [[[
                        return Math.round(states['sensor.slinky_heat_bulb_power'].state)
                            + ' '
                            + states['sensor.slinky_heat_bulb_power'].attributes['unit_of_measurement']
                            + ' ⁓ '
                            + Math.round(states['sensor.slinky_heat_bulb_energy'].state)
                            + ' '
                            + states['sensor.slinky_heat_bulb_energy'].attributes['unit_of_measurement']
                      ]]]
                  - type: custom:button-card
                    name: Outlet 4
                    entity: switch.slinky_outlet_4
                    hold_action:
                      action: more-info
                      entity: sensor.slinky_outlet_4_power
                    aspect_ratio: 1.2/1
                    styles: *content_button_styles
                    show_label: yes
                    label: >
                      [[[
                        return Math.round(states['sensor.slinky_outlet_4_power'].state)
                            + ' '
                            + states['sensor.slinky_outlet_4_power'].attributes['unit_of_measurement']
                            + ' ⁓ '
                            + Math.round(states['sensor.slinky_outlet_4_energy'].state)
                            + ' '
                            + states['sensor.slinky_outlet_4_energy'].attributes['unit_of_measurement']
                      ]]]

      - type: custom:group-element # Footer
        visible: true
        no_toggle_hide: true
        elements_pos:
          overflow: hidden
          display: flex
          order: 2
          flex-grow: 0
          flex-shrink: 0
          align-items: center
          padding: 0 5px
          background-color: rgba(0, 0, 0, 0.45)
          color: "#D3D3D3"
        elements:
          - type: state-icon # UV Light
            entity: switch.slinky_uv_light
            title: UV light
            tap_action:
              action: toggle
            style: &state_icon_style
              transform: scale(0.7)
              margin: 0 15px 0 0

          - type: state-icon # Heater
            entity: switch.slinky_heater
            title: Heater
            tap_action:
              action: toggle
            style: *state_icon_style

          - type: state-icon # Heat bulb
            entity: switch.slinky_heat_bulb
            title: Heat bulb
            tap_action:
              action: toggle
            style:
              <<: *state_icon_style
              margin-right: auto

          - type: custom:group-element # Temperature
            visible: true
            no_toggle_hide: true
            elements_pos: &sensor_group_style
              margin-left: 20px
              display: flex
              flex-direction: column
              align-items: center
              justify-content: flex-end
            elements:
              - type: state-icon
                entity: sensor.slinky_temperature
                title: Temperature
                tap_action:
                  action: more-info
                style: &sensor_icon_style
                  transform: scale(0.6)
              - type: state-label
                entity: sensor.slinky_temperature
                title: Temperature
                tap_action:
                  action: more-info
                style: &sensor_label_style
                  margin: -8px

          - type: custom:group-element # Basking temperature
            visible: true
            no_toggle_hide: true
            elements_pos: *sensor_group_style
            elements:
              - type: state-icon
                entity: sensor.slinky_basking_temperature
                title: Basking temperature
                icon: mdi:spotlight-beam
                tap_action:
                  action: more-info
                style: *sensor_icon_style
              - type: state-label
                entity: sensor.slinky_basking_temperature
                title: Basking temperature
                tap_action:
                  action: more-info
                style: *sensor_label_style

          - type: custom:group-element # Humidity
            visible: true
            no_toggle_hide: true
            elements_pos: *sensor_group_style
            elements:
              - type: state-icon
                entity: sensor.slinky_humidity
                title: Humidity
                tap_action:
                  action: more-info
                style: *sensor_icon_style
              - type: state-label
                entity: sensor.slinky_humidity
                title: Humidity
                tap_action:
                  action: more-info
                style: *sensor_label_style
