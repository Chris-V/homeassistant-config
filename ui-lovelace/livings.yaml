- type: custom:swipe-card
  parameters:
    effect: flip
    autoHeight: yes
  cards:
    - type: picture-elements
      image: /local/frontend/carl_card.jpg
      elements:
        # Translucent footer
        - type: custom:gap-card
          height: 0
          style:
            position: absolute
            left: 0
            right: 0
            bottom: 0
            top: 81%
            height: auto
            transform: none
            background-color: rgba(0, 0, 0, 0.45)

        # Problem indicator
        - type: conditional
          conditions:
            - entity: binary_sensor.carl_requires_attention
              state: "on"
          elements:
            - type: icon
              icon: mdi:alert-circle
              title: Advanced controls
              entity: binary_sensor.carl_requires_attention
              style:
                right: -2%
                top: 5%
                color: var(--google-red-500)
                filter: drop-shadow(black 0 0 1px)

        # Switches (footer left)
        - type: state-icon
          entity: switch.carl_uv_light
          title: UV light
          tap_action:
            action: toggle
          style:
            top: &carl_switch_top 90%
            left: 5%
            color: &carl_footer_color "#E0E0E0"

        - type: state-icon
          entity: switch.carl_heater
          title: Heater
          tap_action:
            action: toggle
          style:
            top: *carl_switch_top
            left: 14%
            color: *carl_footer_color

        - type: state-icon
          entity: switch.carl_heat_bulb
          title: Heat bulb
          tap_action:
            action: toggle
          style:
            top: *carl_switch_top
            left: 23%
            color: *carl_footer_color

        - type: state-icon
          entity: switch.carl_outlet_4
          title: Mister
          tap_action:
            action: toggle
          style:
            top: *carl_switch_top
            left: 32%
            color: *carl_footer_color

        # Sensors (footer right)
        - type: icon
          icon: mdi:thermometer
          entity: sensor.carl_temperature
          title: Temperature
          tap_action:
            action: more-info
          style:
            top: &carl_sensor_icon_top 87%
            left: 64%
            color: *carl_footer_color
        - type: state-label
          entity: sensor.carl_temperature
          title: Temperature
          tap_action:
            action: more-info
          style:
            top: &carl_sensor_label_top 96%
            left: 64%
            color: *carl_footer_color

        - type: icon
          icon: mdi:water-percent
          entity: sensor.carl_humidity
          title: Humidity
          tap_action:
            action: more-info
          style:
            top: *carl_sensor_icon_top
            left: 78%
            color: *carl_footer_color
        - type: state-label
          entity: sensor.carl_humidity
          title: Humidity
          tap_action:
            action: more-info
          style:
            top: *carl_sensor_label_top
            left: 78%
            color: *carl_footer_color

        - type: icon
          icon: mdi:spotlight-beam
          entity: sensor.carl_basking_temperature
          title: Basking temperature
          tap_action:
            action: more-info
          style:
            top: *carl_sensor_icon_top
            left: 92%
            color: *carl_footer_color
        - type: state-label
          entity: sensor.carl_basking_temperature
          title: Basking temperature
          tap_action:
            action: more-info
          style:
            top: *carl_sensor_label_top
            left: 92%
            color: *carl_footer_color

    - type: vertical-stack
      cards:
        - type: custom:header-card
          title: Carl
          show_frame: yes
        - type: horizontal-stack
          cards:
            - type: custom:button-card
              name: Scheduling
              entity: input_boolean.carl_scheduled_lights
              hold_action: more-info
              lock: yes
              aspect_ratio: 1.7/1
              styles: &carl_button_styles
                name:
                  - font-size: 14px
                  - padding: 0px 5px
                label:
                  - color: "#80828A"
                  - font-size: 12px
                  - padding: 0px 5px
            - type: custom:button-card
              name: Master
              entity: switch.carl_power_strip
              hold_action: more-info
              lock: yes
              aspect_ratio: 1.7/1
              styles: *carl_button_styles
              show_label: yes
              label_template: >
                return Math.round(states['sensor.carl_power_strip_power'].state)
                    + ' '
                    + states['sensor.carl_power_strip_power'].attributes['unit_of_measurement']
                    + ' ⁓ '
                    + Math.round(states['sensor.carl_power_strip_energy'].state)
                    + ' '
                    + states['sensor.carl_power_strip_energy'].attributes['unit_of_measurement']
            - type: custom:button-card
              name: Controller
              entity: switch.carl_outlet_5
              hold_action: more-info
              lock: yes
              aspect_ratio: 1.7/1
              styles: *carl_button_styles
              show_label: yes
              label_template: >
                return Math.round(states['sensor.carl_outlet_5_power'].state)
                    + ' '
                    + states['sensor.carl_outlet_5_power'].attributes['unit_of_measurement']
                    + ' ⁓ '
                    + Math.round(states['sensor.carl_outlet_5_energy'].state)
                    + ' '
                    + states['sensor.carl_outlet_5_energy'].attributes['unit_of_measurement']
        - type: horizontal-stack
          cards:
            - type: custom:button-card
              name: UV light
              entity: switch.carl_uv_light
              hold_action: more-info
              aspect_ratio: 1.2/1
              styles: *carl_button_styles
              show_label: yes
              label_template: >
                return Math.round(states['sensor.carl_uv_light_power'].state)
                    + ' '
                    + states['sensor.carl_uv_light_power'].attributes['unit_of_measurement']
                    + ' ⁓ '
                    + Math.round(states['sensor.carl_uv_light_energy'].state)
                    + ' '
                    + states['sensor.carl_uv_light_energy'].attributes['unit_of_measurement']
            - type: custom:button-card
              name: Heater
              entity: switch.carl_heater
              hold_action: more-info
              aspect_ratio: 1.2/1
              styles: *carl_button_styles
              show_label: yes
              label_template: >
                return Math.round(states['sensor.carl_heater_power'].state)
                    + ' '
                    + states['sensor.carl_heater_power'].attributes['unit_of_measurement']
                    + ' ⁓ '
                    + Math.round(states['sensor.carl_heater_energy'].state)
                    + ' '
                    + states['sensor.carl_heater_energy'].attributes['unit_of_measurement']
            - type: custom:button-card
              name: Heat bulb
              entity: switch.carl_heat_bulb
              hold_action: more-info
              aspect_ratio: 1.2/1
              styles: *carl_button_styles
              show_label: yes
              label_template: >
                return Math.round(states['sensor.carl_heat_bulb_power'].state)
                    + ' '
                    + states['sensor.carl_heat_bulb_power'].attributes['unit_of_measurement']
                    + ' ⁓ '
                    + Math.round(states['sensor.carl_heat_bulb_energy'].state)
                    + ' '
                    + states['sensor.carl_heat_bulb_energy'].attributes['unit_of_measurement']
            - type: custom:button-card
              name: Mister
              entity: switch.carl_outlet_4
              hold_action: more-info
              aspect_ratio: 1.2/1
              styles: *carl_button_styles
              show_label: yes
              label_template: >
                return Math.round(states['sensor.carl_outlet_4_power'].state)
                    + ' '
                    + states['sensor.carl_outlet_4_power'].attributes['unit_of_measurement']
                    + ' ⁓ '
                    + Math.round(states['sensor.carl_outlet_4_energy'].state)
                    + ' '
                    + states['sensor.carl_outlet_4_energy'].attributes['unit_of_measurement']

- type: picture-elements
  image: /local/frontend/avocado_hall_card.jpg
  elements:
    - type: custom:text-element
      text: Maître Doyle
      style:
        top: 10%
        left: 16%
        color: "#E0E0E0"
        filter: "drop-shadow(#3B4049 0 0 2px)"
        font-size: 1.3em
        font-weight: 500

    - type: conditional
      conditions:
        - entity: sensor.maitre_doyle_problems
          state_not: "none"
      elements:
        - type: icon
          icon: mdi:alert-circle
          title: Problems
          entity: sensor.maitre_doyle_problems
          tap_action:
            action: more-info
          style:
            right: -1%
            top: 7%
            color: var(--google-red-500)
            filter: drop-shadow(black 0 0 1px)

    - type: state-badge
      entity: sensor.maitre_doyle_moisture
      style:
        top: 95%
        left: 10%
        color: transparent
        --ha-label-badge-font-size: 1.2em
        --label-badge-red: "#363941"
    - type: state-badge
      entity: sensor.maitre_doyle_temperature
      style:
        top: 95%
        left: 23%
        color: transparent
        --ha-label-badge-font-size: 1.2em
        --label-badge-red: "#363941"
    - type: state-badge
      entity: sensor.maitre_doyle_conductivity
      style:
        top: 95%
        left: 36%
        color: transparent
        --ha-label-badge-font-size: 1.2em
        --label-badge-red: "#363941"
    - type: state-badge
      entity: sensor.maitre_doyle_brightness
      style:
        top: 95%
        left: 49%
        color: transparent
        --ha-label-badge-font-size: 1.2em
        --label-badge-red: "#363941"

- type: picture-elements
  image: /local/frontend/spider_plant_card.jpg
  elements:
    - type: custom:text-element
      text: Spidy
      style:
        top: 10%
        left: 10%
        color: "#E0E0E0"
        filter: "drop-shadow(#3B4049 0 0 2px)"
        font-size: 1.3em
        font-weight: 500

    - type: conditional
      conditions:
        - entity: sensor.spidy_problems
          state_not: "none"
      elements:
        - type: icon
          icon: mdi:alert-circle
          title: Problems
          entity: sensor.spidy_problems
          tap_action:
            action: more-info
          style:
            right: -1%
            top: 7%
            color: var(--google-red-500)
            filter: drop-shadow(black 0 0 1px)

    - type: state-badge
      entity: sensor.spidy_moisture
      style:
        top: 93%
        left: 51%
        color: transparent
        --ha-label-badge-font-size: 1.2em
        --label-badge-red: "#363941"
    - type: state-badge
      entity: sensor.spidy_temperature
      style:
        top: 93%
        left: 64%
        color: transparent
        --ha-label-badge-font-size: 1.2em
        --label-badge-red: "#363941"
    - type: state-badge
      entity: sensor.spidy_conductivity
      style:
        top: 93%
        left: 77%
        color: transparent
        --ha-label-badge-font-size: 1.2em
        --label-badge-red: "#363941"
    - type: state-badge
      entity: sensor.spidy_brightness
      style:
        top: 93%
        left: 90%
        color: transparent
        --ha-label-badge-font-size: 1.2em
        --label-badge-red: "#363941"

- type: picture-elements
  image: /local/frontend/devils_ivy_card.jpg
  elements:
    - type: custom:text-element
      text: Viny
      style:
        top: 10%
        left: 9%
        color: "#3B4049"
        filter: "drop-shadow(#E0E0E0 0px 0px 2px)"
        font-size: 1.3em
        font-weight: 500

    - type: conditional
      conditions:
        - entity: sensor.viny_problems
          state_not: "none"
      elements:
        - type: icon
          icon: mdi:alert-circle
          title: Problems
          entity: sensor.viny_problems
          tap_action:
            action: more-info
          style:
            right: -1%
            top: 7%
            color: var(--google-red-500)
            filter: drop-shadow(black 0 0 1px)

    - type: state-badge
      entity: sensor.viny_moisture
      style:
        top: 93%
        left: 51%
        color: transparent
        --ha-label-badge-font-size: 1.2em
        --label-badge-red: "#363941"
    - type: state-badge
      entity: sensor.viny_temperature
      style:
        top: 93%
        left: 64%
        color: transparent
        --ha-label-badge-font-size: 1.2em
        --label-badge-red: "#363941"
    - type: state-badge
      entity: sensor.viny_conductivity
      style:
        top: 93%
        left: 77%
        color: transparent
        --ha-label-badge-font-size: 1.2em
        --label-badge-red: "#363941"
    - type: state-badge
      entity: sensor.viny_brightness
      style:
        top: 93%
        left: 90%
        color: transparent
        --ha-label-badge-font-size: 1.2em
        --label-badge-red: "#363941"
