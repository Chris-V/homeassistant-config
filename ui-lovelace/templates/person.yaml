default:
  - image:
  - person_entity:
  - mobile_app_device_tracker:
card:
  type: picture-elements
  image: "[[image]]"
  style: |
    .element[class~=element] {
      position: relative;
      transform: none;
    }
    group-element.element[class~=element] {
      position: absolute;
    }
  elements:
    - type: custom:group-element
      visible: true
      no_toggle_hide: true
      elements_pos:
        position: absolute
        top: 0
        right: 0
        left: 0
        bottom: 0
        display: flex
        flex-direction: column-reverse
      elements:
        - type: custom:group-element
          visible: true
          no_toggle_hide: true
          elements_pos:
            height: 3rem
            overflow: hidden
            display: flex
            flex-grow: 0
            flex-shrink: 0
            align-items: center
            justify-content: space-between
            padding: 0 5px
            background-color: rgba(0, 0, 0, 0.45)
            color: "#D3D3D3"
          elements:
            - type: custom:group-element
              visible: true
              no_toggle_hide: true
              elements_pos:
                display: flex
                flex-direction: column
                align-items: center
                font-size: 0.9rem
              elements:
                - type: icon
                  icon: mdi:battery
                  entity: "[[mobile_app_entity]]"
                  style:
                    "--iron-icon-height": 16px
                - type: custom:hui-markdown-card
                  entity_id: "[[mobile_app_entity]]"
                  content: "{{ state_attr('[[mobile_app_entity]]', 'battery_level') | default('\\-', True) }} %"
                  theme: blank
                  style: |
                    ha-markdown.markdown.no-header {
                      padding: 4px 0 0 0;
                      color: #D3D3D3;
                    }

            - type: state-label
              entity: "[[person_entity]]"
              style:
                text-transform: uppercase

            - type: custom:hui-markdown-card
              entity_id: "[[person_entity]]"
              content: "{{ relative_time(states['[[person_entity]]'].last_changed) }}"
              theme: blank
              style: |
                ha-markdown.markdown.no-header {
                  padding: 0;
                  font-size: 0.9rem;
                  color: #D3D3D3;
                }
