type: picture-elements
image: /local/frontend/living_room_card.webp
style: |
  .element[class~=element] {
    position: relative;
    transform: none;
  }
  ::-webkit-scrollbar {
    width: 3px;
    height: 3px;
  }
  ::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.55);
  }
  ::-webkit-scrollbar-thumb {
    background: rgba(160, 0, 0, 0.55);
  }
  ::-webkit-scrollbar-thumb:hover {
    background: rgba(160, 0, 0, 1);
  }
elements:
  - type: custom:group-element
    visible: true
    no_toggle_hide: true
    elements_pos:
      position: absolute
      top: 0
      right: 0
      left: 0
      bottom: 0
      display: flex
      flex-direction: column
      "--secondary-text-color": "#DADADB"
      "--primary-text-color": "#DADADB"
      "--paper-item-icon-color": "#DADADB"
      "--iron-icon-width": 40px
      "--iron-icon-height": 40px
      "--ha-card-background": rgba(0, 0, 0, 0)
      "--ha-card-box-shadow": none
    elements:
      - type: custom:group-element # Header
        visible: true
        no_toggle_hide: true
        elements_pos:
          <<: &room_banner_style
            overflow: hidden
            display: flex
            flex-grow: 0
            flex-shrink: 0
            padding: 0 10px
            color: "#D3D3D3"
            font-size: 1.6em
            font-weight: 500
          height: 2.25em
          order: 1
          align-items: center
          background-color: rgba(160, 0, 0, 0.9)
        elements:
          - type: conditional # Room icon
            conditions:
              - entity: binary_sensor.living_room_door
                state: "off"
            style:
              transform: &room_banner_icon_transform scale(0.8)
              margin-right: 10px
            elements:
              - type: icon
                icon: mdi:sofa
                style: &room_title_icon_style
                  cursor: default

          - type: conditional # Alert icon
            conditions:
              - entity: binary_sensor.living_room_door
                state: "on"
            style:
              transform: *room_banner_icon_transform
              margin-right: 10px
            elements:
              - type: icon
                icon: mdi:home-alert
                style:
                  <<: *room_title_icon_style
                  color: "#FF0"

          - type: custom:text-element # Title
            text: Living room

          - type: custom:group-element # Sensors
            visible: true
            no_toggle_hide: true
            elements_pos:
              height: 100%
              display: flex
              align-items: center
              justify-content: flex-end
              flex-grow: 1
              font-size: 0.55em
            elements:
              - type: state-icon # Door
                entity: binary_sensor.living_room_door
                title: Door
                tap_action:
                  action: more-info
                style:
                  transform: &room_sensor_icon_transform scale(0.7)
                  transform-origin: center right

              - type: custom:group-element # Temperature
                visible: true
                no_toggle_hide: true
                elements_pos:
                  height: 100%
                  margin-left: 10px
                  display: flex
                  flex-direction: column
                  align-items: center
                  justify-content: flex-end
                elements:
                  - type: state-icon
                    entity: sensor.living_room_temperature
                    title: Temperature
                    tap_action:
                      action: more-info
                    style:
                      transform: *room_sensor_icon_transform
                      transform-origin: center 60%
                  - type: state-label
                    entity: sensor.living_room_temperature
                    title: Temperature
                    tap_action:
                      action: more-info
                    style:
                      margin: -8px

      - type: custom:group-element
        visible: true
        no_toggle_hide: true
        elements_pos:
          order: 2
          flex-grow: 1
          flex-shrink: 1
          display: flex
          overflow: auto hidden
          scroll-behavior: smooth
          scroll-snap-type: x mandatory
          "-webkit-overflow-scrolling": touch
          "--iron-icon-width": 24px
          "--iron-icon-height": 24px
        elements:
          - type: custom:gap-card # Initial
            height: 0
            style: &room_card_content_slide_style
              display: block
              width: 100%
              height: 100%
              flex-shrink: 0
              scroll-snap-align: start
          - type: custom:hui-horizontal-stack-card # Thermostat
            style:
              <<: *room_card_content_slide_style
              background-color: rgba(0, 0, 0, 0.55)
            cards:
              - type: entities
                show_header_toggle: False
                style: |
                  ha-card .card-content { padding: 0; }
                entities:
                  - entity: "input_select.living_room_thermostat_mode"
                    name: Mode
                  - entity: "input_number.living_room_thermostat_comfort_setpoint"
                    name: Comfort
                  - entity: "input_number.living_room_thermostat_eco_setpoint"
                    name: Eco

              - type: custom:simple-thermostat
                entity: "climate.living_room_thermostat"
                name: False
                hide:
                  temperature: true
                  state: true
                step_size: 0.5
                control: []

      - type: custom:group-element # Footer
        visible: true
        no_toggle_hide: true
        elements_pos:
          <<: *room_banner_style
          order: 3
          align-items: flex-end
          justify-content: center
          background-color: rgba(0, 0, 0, 0.55)
          height: unset
          min-height: 1.75em
        elements:
          - type: state-icon
            entity: light.bookshelf
            title: Bookshelf
            icon: mdi:wall-sconce-flat
            style: &room_footer_icon_style
              transform: *room_banner_icon_transform
              transform-origin: center right
              margin: 0 15px
            tap_action:
              action: toggle
          - type: state-icon
            entity: light.living_room_ambiance
            title: Ambiance
            icon: mdi:floor-lamp-dual
            style: *room_footer_icon_style
            tap_action:
              action: toggle
          - type: state-icon
            entity: switch.bookshelf_outlet
            title: Bookshelf outlet
            icon: mdi:power-socket-us
            style: *room_footer_icon_style
            tap_action:
              action: toggle
          - type: state-icon
            entity: media_player.living_room_tv
            title: TV
            icon: mdi:television
            style: *room_footer_icon_style
            tap_action:
              action: call-service
              service: switch.toggle
              service_data:
                entity_id: switch.living_room_tv_power
          - type: state-icon
            entity: media_player.living_room_google_home
            title: Google Home
            icon: mdi:speaker
            style: *room_footer_icon_style
