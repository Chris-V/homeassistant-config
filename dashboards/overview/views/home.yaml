- type: vertical-stack
  cards:
    - type: grid
      square: true
      columns: 3
      cards:
        - type: entity-button
          entity: light.outdoor_lights
          name: Outdoor
          icon: mdi:tree
          tap_action:
            action: toggle
          hold_action:
            action: more-info
        - type: entity-button
          entity: light.ground_floor_lights
          name: Main
          icon: mdi:arrow-up-thick
          tap_action:
            action: toggle
          hold_action:
            action: more-info
        - type: entity-button
          entity: light.basement_lights
          name: Basement
          icon: mdi:arrow-down-thick
          tap_action:
            action: toggle
          hold_action:
            action: more-info

        - type: entity-button
          entity: script.ambiance
          name: Ambiance
          tap_action:
            action: call-service
            service: script.turn_on
            service_data:
              entity_id: script.ambiance
          hold_action:
            action: none
        - type: entity-button
          entity: script.bedtime
          tap_action:
            action: call-service
            service: script.turn_on
            service_data:
              entity_id: script.bedtime
          hold_action:
            action: none
        - type: entity-button
          entity: script.everything_off
          tap_action:
            action: call-service
            service: script.turn_on
            service_data:
              entity_id: script.everything_off
          hold_action:
            action: none

    - type: grid
      square: false
      columns: 2
      cards:
        - <<: &climate_button_card_defaults
            type: custom:button-card
            show_label: true
            layout: icon_name_state2nd
            styles:
              card:
                - height: 64px
              label:
                - font-size: 1rem
                - color: var(--secondary-text-color)
            hold_action:
              action: more-info
          entity: sensor.scheduled_climate_preset
          name: Apply schedule
          label: >
            [[[ return 'Preset: ' + states['sensor.scheduled_climate_preset'].state; ]]]
          tap_action:
            action: call-service
            service: script.apply_scheduled_climate_preset

        - <<: *climate_button_card_defaults
          entity: sensor.manual_thermostats_count
          name: Restore to auto
          label: >
            [[[ return states['sensor.manual_thermostats_count'].state + ' in manual mode'; ]]]
          tap_action:
            action: call-service
            service: script.restore_climate_auto_mode

- type: vertical-stack
  cards:
    - !include ../cards/household.yaml
    - !include ../cards/guests.yaml

- type: grid
  square: false
  columns: 2
  cards:
    - !include ../cards/car.yaml
    - !include ../cards/livings-overview.yaml

- type: glance
  columns: 3
  show_name: false
  entities:
    - entity: binary_sensor.all_motions
    - entity: sensor.last_motion
    - entity: binary_sensor.all_batteries

    - entity: binary_sensor.all_doors
    - entity: binary_sensor.all_windows
    - entity: binary_sensor.all_leaks

- type: custom:weather-card
  entity: weather.quebec
