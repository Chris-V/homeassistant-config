- type: entities
  title: Settings
  show_header_toggle: false
  style: |
    ha-card {
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath style='fill: %23151A23;' d='M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z'/%3E%3C/svg%3E");
      background-position: center center;
      background-repeat: no-repeat;
      background-size: 25%;
      background-blend-mode: exclusion;
    }
  entities:
    - input_boolean.power_outage_manage_devices

- type: entities
  title: Notifications
  show_header_toggle: false
  style: |
    ha-card {
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath style='fill: %23151A23;' d='M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21'/%3E%3C/svg%3E");
      background-position: center center;
      background-repeat: no-repeat;
      background-size: 50%;
      background-blend-mode: exclusion;
    }
  entities:
    - entity: input_boolean.notify_household_changes
      name: Household changes
    - entity: input_boolean.notify_server_outages
      name: Server outages
    - entity: input_boolean.notify_minecraft_status
      name: Minecraft status
    - entity: input_boolean.notify_minecraft_player_changes
      name: Minecraft player changes

- type: entities
  show_header_toggle: false
  title: UPS
  style: |
    ha-card {
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath style='fill: %23151A23;' d='M11 15H6L13 1V9H18L11 23V15Z'/%3E%3C/svg%3E");
      background-position: center center;
      background-repeat: no-repeat;
      background-size: 50%;
      background-blend-mode: exclusion;
    }
  entities:
    - entity: sensor.ups_status
      name: Status
    - entity: sensor.ups_load
      name: Load
    - entity: sensor.ups_battery
      name: Battery
    - entity: sensor.ups_input_voltage
      name: Input voltage
    - entity: sensor.ups_time_left
      name: Time left
    - entity: sensor.ups_time_on_battery
      name: Time on battery

- type: entities
  title: Home Assistant
  show_header_toggle: false
  style: |
    ha-card {
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath style='fill: %23151A23;' d='M21.8,13H20V21H13V17.67L15.79,14.88L16.5,15C17.66,15 18.6,14.06 18.6,12.9C18.6,11.74 17.66,10.8 16.5,10.8A2.1,2.1 0 0,0 14.4,12.9L14.5,13.61L13,15.13V9.65C13.66,9.29 14.1,8.6 14.1,7.8A2.1,2.1 0 0,0 12,5.7A2.1,2.1 0 0,0 9.9,7.8C9.9,8.6 10.34,9.29 11,9.65V15.13L9.5,13.61L9.6,12.9A2.1,2.1 0 0,0 7.5,10.8A2.1,2.1 0 0,0 5.4,12.9A2.1,2.1 0 0,0 7.5,15L8.21,14.88L11,17.67V21H4V13H2.25C1.83,13 1.42,13 1.42,12.79C1.43,12.57 1.85,12.15 2.28,11.72L11,3C11.33,2.67 11.67,2.33 12,2.33C12.33,2.33 12.67,2.67 13,3L17,7V6H19V9L21.78,11.78C22.18,12.18 22.59,12.59 22.6,12.8C22.6,13 22.2,13 21.8,13M7.5,12A0.9,0.9 0 0,1 8.4,12.9A0.9,0.9 0 0,1 7.5,13.8A0.9,0.9 0 0,1 6.6,12.9A0.9,0.9 0 0,1 7.5,12M16.5,12C17,12 17.4,12.4 17.4,12.9C17.4,13.4 17,13.8 16.5,13.8A0.9,0.9 0 0,1 15.6,12.9A0.9,0.9 0 0,1 16.5,12M12,6.9C12.5,6.9 12.9,7.3 12.9,7.8C12.9,8.3 12.5,8.7 12,8.7C11.5,8.7 11.1,8.3 11.1,7.8C11.1,7.3 11.5,6.9 12,6.9Z'/%3E%3C/svg%3E");
      background-position: center center;
      background-repeat: no-repeat;
      background-size: 50%;
      background-blend-mode: exclusion;
    }
  entities:
    - entity: sensor.connected_clients
    - entity: sensor.hacs
      name: HACS
    - entity: sensor.current_home_assistant_version
    - entity: sensor.latest_home_assistant_version

- type: entities
  title: Minecraft
  show_header_toggle: false
  style: |
    ha-card {
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath style='fill: %23151A23;' d='M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4A2,2 0 0,1 2,20V4A2,2 0 0,1 4,2M6,6V10H10V12H8V18H10V16H14V18H16V12H14V10H18V6H14V10H10V6H6Z'/%3E%3C/svg%3E");
      background-position: center center;
      background-repeat: no-repeat;
      background-size: 50%;
      background-blend-mode: exclusion;
    }
  entities:
    - entity: binary_sensor.minecraft_server_status
      name: Status
      state_color: true
    - entity: sensor.minecraft_server_version
      name: Version
    - entity: sensor.minecraft_latest_version
      name: Latest version
    - type: custom:template-entity-row
      entity: sensor.minecraft_server_players_online
      name: Players
      secondary: >-
        {% for player in states['sensor.minecraft_server_players_online'].attributes['players_list'] | default([]) -%}
        {{ player }}{{ ', ' if not loop.last and loop.revindex != 2 }}{{ ' and ' if loop.revindex == 2 }}
        {%- endfor %}
    - entity: sensor.minecraft_server_latency_time
      name: Latency

- type: entities
  title: Automate
  show_header_toggle: false
  style: |
    ha-card {
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath style='fill: %23151A23;' d='M12,3L2,12H5V20H19V12H22L12,3M12,8.5C14.34,8.5 16.46,9.43 18,10.94L16.8,12.12C15.58,10.91 13.88,10.17 12,10.17C10.12,10.17 8.42,10.91 7.2,12.12L6,10.94C7.54,9.43 9.66,8.5 12,8.5M12,11.83C13.4,11.83 14.67,12.39 15.6,13.3L14.4,14.47C13.79,13.87 12.94,13.5 12,13.5C11.06,13.5 10.21,13.87 9.6,14.47L8.4,13.3C9.33,12.39 10.6,11.83 12,11.83M12,15.17C12.94,15.17 13.7,15.91 13.7,16.83C13.7,17.75 12.94,18.5 12,18.5C11.06,18.5 10.3,17.75 10.3,16.83C10.3,15.91 11.06,15.17 12,15.17Z'/%3E%3C/svg%3E");
      background-position: center center;
      background-repeat: no-repeat;
      background-size: 50%;
      background-blend-mode: exclusion;
    }
  entities:
    - sensor.processor_use
    - sensor.processor_temperature
    - sensor.memory_use_percent

- !template
  file: ../cards/server.yaml.j2
  variables:
    name: Media
    key: media
    icon_path: "M15,20A1,1 0 0,0 14,19H13V17H17A2,2 0 0,0 19,15V5A2,2 0 0,0 17,3H7A2,2 0 0,0 5,5V15A2,2 0 0,0 7,17H11V19H10A1,1 0 0,0 9,20H2V22H9A1,1 0 0,0 10,23H14A1,1 0 0,0 15,22H22V20H15M10,14V6L15,10L10,14Z"

- !template
  file: ../cards/server.yaml.j2
  variables:
    name: Relay South
    key: relay_south

- !template
  file: ../cards/server.yaml.j2
  variables:
    name: Relay North
    key: relay_north

- type: entities
  title: Z-Wave
  show_header_toggle: false
  style: |
    ha-card {
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath style='fill: %23151A23;' d='M16.3,10.58C13.14,10.58 10.6,13.13 10.6,16.28C10.6,19.43 13.15,22 16.3,22C19.45,22 22,19.43 22,16.28C22,13.13 19.45,10.58 16.3,10.58M18,19.08H13.19L15.81,15H13.31L14.4,13.23H19.18L16.63,17.28H19.18L18,19.08M16.3,3.93V2C8.41,2 2,8.42 2,16.31H3.92C3.94,9.46 9.5,3.93 16.3,3.93M16.3,7.74V5.82C10.5,5.82 5.81,10.53 5.81,16.31H7.73C7.75,11.58 11.59,7.74 16.3,7.74'/%3E%3C/svg%3E");
      background-position: center center;
      background-repeat: no-repeat;
      background-size: 50%;
      background-blend-mode: exclusion;
    }
  entities:
    - entity: zwave.usb_controller

    - type: custom:auto-entities
      show_empty: false
      sort:
        method: name
      filter:
        include: &zwave_failed_filters
          - domain: zwave
            attributes:
              is_failed: true
      card:
        type: custom:fold-entity-row
        head:
          type: section
          label: Failed
        open: true

    - type: custom:auto-entities
      sort:
        method: name
      filter:
        include:
          - domain: zwave
            attributes: &zwave_battery_filter
              battery_level: ">= 0"
        exclude: *zwave_failed_filters
      card:
        type: custom:fold-entity-row
        head:
          type: section
          label: Battery powered
    - type: custom:auto-entities
      sort:
        method: name
      filter:
        include:
          - domain: zwave
            not:
              attributes: *zwave_battery_filter
        exclude: *zwave_failed_filters
      card:
        type: custom:fold-entity-row
        head:
          type: section
          label: Hard-wired
