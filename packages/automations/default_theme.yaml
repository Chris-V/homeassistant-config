input_boolean:
  automatic_night_theme:
    name: "Automatic night theme"
    initial: true
    icon: 'mdi:theme-light-dark'

input_select:
  default_theme:
    name: 'Default theme'
    options:
      - 'default'
      - 'Google Light Theme'
      - &night_theme 'Google Dark Theme'
      - &day_theme 'clear'
      - 'clear-dark'
    icon: 'mdi:palette'

automation:
  - alias: set_default_theme
    initial_state: true
    trigger:
      - platform: state
        entity_id: "input_select.default_theme"
      - platform: homeassistant
        event: "start"
    action:
      - service: frontend.set_theme
        data:
          name: "{{ states('input_select.default_theme') | default('default') }}"

  - alias: sunrise_theme
    initial_state: true
    trigger:
      - platform: sun
        event: "sunrise"
      - platform: state
        entity_id: "input_boolean.automatic_night_theme"
        to: "on"
    condition:
      - condition: state
        entity_id: "input_boolean.automatic_night_theme"
        state: "on"
      - condition: sun
        after: "sunrise"
      - condition: sun
        before: "sunset"
    action:
      - service: input_select.select_option
        data:
          entity_id: "input_select.default_theme"
          option: *day_theme
  - alias: sunset_theme
    initial_state: true
    trigger:
      - platform: sun
        event: "sunset"
      - platform: state
        entity_id: "input_boolean.automatic_night_theme"
        to: "on"
    condition:
      - condition: state
        entity_id: "input_boolean.automatic_night_theme"
        state: "on"
      - condition: or
        conditions:
          - condition: sun
            after: "sunset"
          - condition: sun
            before: "sunrise"
    action:
      - service: input_select.select_option
        data:
          entity_id: "input_select.default_theme"
          option: *night_theme
