google_assistant:
  entity_config:
    light.main_bathroom:
      expose: True
      room: "Main bathroom"
      aliases:
        - "Bathroom light"
        - "Main bathroom light"
    light.main_bathroom_vanity:
      expose: True
      room: "Main bathroom"
      aliases:
        - "Vanity light"
        - "Vanity"
        - "Bathroom vanity light"
        - "Main bathroom vanity light"
    switch.main_bathroom_fan:
      expose: True
      room: "Main bathroom"
      aliases:
        - "Bathroom fan"
        - "Main bathroom fan"

light:
  - platform: group
    name: "Main bathroom lights"
    entities:
      - light.main_bathroom
      - light.main_bathroom_vanity

  - platform: template
    lights:
      main_bathroom_vanity:
        friendly_name: "Main bathroom vanity light"
        value_template: "{{ is_state('switch.main_bathroom_vanity_light', 'on') }}"
        turn_on:
          service: "switch.turn_on"
          data:
            entity_id: "switch.main_bathroom_vanity_light"
        turn_off:
          service: "switch.turn_off"
          data:
            entity_id: "switch.main_bathroom_vanity_light"
