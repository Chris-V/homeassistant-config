homeassistant:
  customize:
    sensor.water_heater_leak_sensor_battery:
      battery_type: "ER14250 3.6V"

google_assistant:
  entity_config:
    switch.workshop_light:
      expose: True
      room: "Workshop"
      aliases:
        - "Workshop light"
        - "Workshop"

group:
  workshop:
    name: "Workshop"
    icon: "mdi:hammer"
    entities:
      - switch.workshop_light
      - binary_sensor.water_heater_leak
  workshop_lights:
    name: "Workshop lights"
    icon: "mdi:lightbulb"
    entities:
      - switch.workshop_light

  all_batteries:
    entities:
      - sensor.water_heater_leak_sensor_battery
  all_water_leak_sensors:
    entities:
      - binary_sensor.water_heater_leak

binary_sensor:
  - platform: template
    sensors:
      water_heater_leak:
        friendly_name: "Water heater leak"
        device_class: "moisture"
        value_template: "{{ is_state('sensor.water_heater_leak_sensor_flood', '2') }}"

sensor:
  - platform: template
    sensors:
      water_heater_leak_sensor_battery:
        friendly_name: "Water heater leak sensor battery"
        device_class: "battery"
        unit_of_measurement: "%"
        value_template: "{{ state_attr('zwave.water_heater_leak_sensor', 'battery_level') }}"

