# Icon reference: https://materialdesignicons.com/tag/home-automation

title: Avatar
background: 'var(--lovelace-background)'

resources:
  - url: /customcards/github/custom-cards/tracker-card.js?track=true
    type: module
  - url: /customcards/github/custom-cards/vertical-stack-in-card.js?track=true
    type: js
  - url: /customcards/github/maykar/compact-custom-header.js?track=true
    type: module
  - url: /customcards/github/thomasloven/card-tools.js?track=true
    type: js
  - url: /customcards/github/thomasloven/fold-entity-row.js?track=true
    type: js
  - url: /customcards/header-card.js
    type: js

views:

  - title: Home
    path: home
    icon: mdi:home
    cards:
      - type: custom:compact-custom-header
        main_config: True
        header: True
        menu: show
        notifications: show
        voice: hide
        options: clock
        clock_format: 24
        hide_tabs: 5
        exceptions:
          - conditions:
              user_agent: Mobile
              user: Chris
            config:
              menu: hide
              options: hide
              hide_tabs:
          - conditions:
              user_agent: Mobile
            config:
              menu: hide
              options: hide
          - conditions:
              user: Chris
            config:
              hide_tabs:
      - type: glance
        show_name: false
        columns: 2
        entities:
          - person.chris
          - person.karine
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: entity-button
                entity: light.outdoor_lights
                name: Outdoor
                icon: mdi:tree
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
              - type: entity-button
                entity: light.ground_floor_lights
                name: Main
                icon: mdi:arrow-up-thick
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
              - type: entity-button
                entity: light.basement_lights
                name: Basement
                icon: mdi:arrow-down-thick
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
          - type: horizontal-stack
            cards:
              - type: entity-button
                entity: script.ambiance
                name: Ambiance
                icon: mdi:weather-night
                tap_action:
                  action: call-service
                  service: script.turn_on
                  service_data:
                    entity_id: script.ambiance
                hold_action:
                  action: none
              - type: entity-button
                entity: script.bedtime
                name: Bedtime
                icon: mdi:hotel
                tap_action:
                  action: call-service
                  service: script.turn_on
                  service_data:
                    entity_id: script.bedtime
                hold_action:
                  action: none
              - type: entity-button
                entity: script.everything_off
                name: All off
                icon: mdi:close-circle-outline
                tap_action:
                  action: call-service
                  service: script.turn_on
                  service_data:
                    entity_id: script.everything_off
                hold_action:
                  action: none
      - type: weather-forecast
        entity: weather.dark_sky
      - type: glance
        columns: 4
        entities:
          - entity: binary_sensor.all_motions
            name: Motion
          - entity: sensor.last_motion
            name: Last motion
            icon: mdi:motion-sensor
          - entity: binary_sensor.all_doors
            name: Doors
          - entity: binary_sensor.all_windows
            name: Windows
          - entity: group.all_plants
            name: Plants
          - entity: binary_sensor.all_leaks
            name: Leaks
          - entity: sensor.all_batteries
            name: Batteries

  - title: Ground Floor
    path: ground
    icon: mdi:arrow-up-thick
    cards:
      - type: custom:compact-custom-header
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:header-card
            title: Outdoor
            entities: light.outdoor_lights
          - type: divider
          - type: entities
            entities:
              - entity: light.side_porch
                name: Side porch
                icon: mdi:wall-sconce
              - entity: light.front_porch
                name: Front porch
                icon: mdi:wall-sconce
              - entity: light.shed
                name: Shed
                icon: mdi:wall-sconce
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:header-card
            title: Kitchen
            entities: light.kitchen_lights
          - type: divider
          - type: horizontal-stack
            cards:
              - type: entities
                entities:
                  - entity: light.kitchen
                    name: Spots
                    icon: mdi:wall-sconce-flat
              - type: glance
                columns: 2
                show_name: False
                entities:
                  - entity: binary_sensor.kitchen_sink_leak
                  - entity: binary_sensor.kitchen_door
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:header-card
            title: Dining room
            entities: light.dining_room_lights
          - type: divider
          - type: entities
            entities:
              - entity: light.dining_room
                name: Table
                icon: mdi:ceiling-light
              - entity: light.hallway
                name: Hallway
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:header-card
            title: Living room
            entities: light.living_room_lights
          - type: divider
          - type: horizontal-stack
            cards:
              - type: entities
                entities:
                  - entity: light.bookshelf
                    name: Bookshelf
                    icon: mdi:wall-sconce-flat
                  - entity: light.living_room_ambiance
                    name: Ambiance
                    icon: mdi:floor-lamp
                  - entity: switch.bookshelf_outlet
                    name: Bookshelf outlet
                    icon: mdi:power-socket-us
                  - entity: switch.living_room_tv
                    name: TV
                    icon: mdi:television
              - type: vertical-stack
                cards:
                  - type: glance
                    show_state: False
                    columns: 2
                    entities:
                      - entity: media_player.living_room_chromecast
                        name: Chromecast
                      - entity: media_player.living_room_google_home
                        name: Google Home
                  - type: glance
                    show_name: False
                    columns: 2
                    entities:
                      - entity: binary_sensor.living_room_door
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:header-card
            title: Master Bedroom
            entities: light.master_bedroom_lights
          - type: divider
          - type: horizontal-stack
            cards:
              - type: entities
                entities:
                  - entity: light.master_bedroom
                    name: Light
                  - entity: light.bedside_chris
                    name: Chris' lamp
                    icon: mdi:lamp
                  - entity: light.bedside_karine
                    name: Karine's lamp
                    icon: mdi:lamp
              - type: glance
                show_name: False
                columns: 2
                entities:
                  - media_player.master_bedroom_google_home
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:header-card
            title: Bathroom
            entities: light.main_bathroom_lights
          - type: divider
          - type: horizontal-stack
            cards:
              - type: entities
                entities:
                  - entity: light.main_bathroom_spots
                    name: Spots
                    icon: mdi:wall-sconce-flat
                  - entity: light.main_bathroom_vanity
                    name: Vanity
                    icon: mdi:ceiling-light
                  - entity: fan.main_bathroom
                    name: Fan
              - type: glance
                show_name: False
                columns: 2
                entities:
                  - entity: sensor.main_bathroom_humidity
                    name: Humidity
                  - entity: sensor.main_bathroom_temperature
                    name: Temperature
                  - entity: binary_sensor.main_bathroom_motion
                    name: Motion
                  - entity: binary_sensor.main_bathroom_door
                    name: Door
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:header-card
            title: Office
            entities: light.office_lights
          - type: divider
          - type: entities
            entities:
              - entity: light.office
                name: Light

  - title: Basement
    path: basement
    icon: mdi:arrow-down-thick
    cards:
      - type: custom:compact-custom-header
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:header-card
            title: Lounge
            entities: light.lounge_lights
          - type: divider
          - type: horizontal-stack
            cards:
              - type: entities
                entities:
                  - entity: light.lounge
                    name: Spots
                    icon: mdi:wall-sconce-flat
                  - entity: light.lounge_ambiance
                    name: Ambiance
                    icon: mdi:floor-lamp
                  - entity: light.basement_hallway
                    name: Hallway
                  - entity: light.downstairs
                    name: Downstairs
              - type: vertical-stack
                cards:
                  - type: glance
                    show_name: False
                    columns: 2
                    entities:
                      - media_player.lounge_google_home
                  - type: glance
                    show_name: False
                    columns: 2
                    entities:
                      - binary_sensor.lounge_window
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:header-card
            title: Bathroom
            entities: light.basement_bathroom_lights
          - type: divider
          - type: horizontal-stack
            cards:
              - type: entities
                entities:
                  - entity: light.basement_bathroom
                    name: Spots
                    icon: mdi:wall-sconce-flat
                  - entity: light.basement_bathroom_vanity
                    name: Vanity
                    icon: mdi:ceiling-light
                  - entity: fan.basement_bathroom
                    name: Fan
              - type: glance
                show_name: False
                columns: 2
                entities:
                  - entity: sensor.basement_bathroom_humidity
                    name: Humidity
                  - entity: sensor.basement_bathroom_temperature
                    name: Temperature
                  - entity: binary_sensor.basement_bathroom_motion
                    name: Motion
                  - entity: binary_sensor.basement_bathroom_door
                    name: Door
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:header-card
            title: Laundry
            entities: light.laundry_room_lights
          - type: divider
          - type: horizontal-stack
            cards:
              - type: entities
                entities:
                  - entity: light.laundry_room
                    name: Light
              - type: glance
                show_name: False
                columns: 2
                entities:
                  - entity: binary_sensor.laundry_room_motion
                    name: Motion
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:header-card
            title: Workshop
            entities: light.workshop_lights
          - type: divider
          - type: horizontal-stack
            cards:
              - type: entities
                entities:
                  - entity: light.workshop
                    name: Light
              - type: glance
                show_name: False
                columns: 2
                entities:
                  - entity: binary_sensor.workshop_motion
                    name: Motion
                  - entity: binary_sensor.water_heater_leak
                    name: Water heater
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:header-card
            title: Guest's bedroom
            entities: light.guest_bedroom_lights
          - type: divider
          - type: horizontal-stack
            cards:
              - type: entities
                entities:
                  - entity: light.guest_bedroom
                    name: Light
              - type: glance
                show_name: False
                columns: 2
                entities:
                  - entity: binary_sensor.guest_bedroom_window
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:header-card
            title: Studio
            entities: light.studio_lights
          - type: divider
          - type: horizontal-stack
            cards:
              - type: entities
                entities:
                  - entity: light.studio
                    name: Light
              - type: glance
                show_name: False
                columns: 2
                entities:
                  - entity: binary_sensor.studio_window

  - title: Livings
    path: livings
    icon: mdi:flower
    cards:
      - type: custom:compact-custom-header
      - type: plant-status
        entity: plant.maitre_doyle
      - type: plant-status
        entity: plant.spidy
      - type: plant-status
        entity: plant.viny

      - type: entities
        title: Carl
        show_header_toggle: false
        entities:
          - entity: sensor.carl_power_strip_energy
          - entity: sensor.carl_power_strip_power
          - entity: sensor.carl_uv_light_power
          - entity: sensor.carl_heater_power
          - entity: sensor.carl_heat_bulb_power
          - entity: input_boolean.carl_scheduled_lights
          - entity: switch.carl_uv_light
          - entity: switch.carl_heater
          - entity: switch.carl_heat_bulb
          - entity: switch.carl_outlet_4
          - entity: switch.carl_outlet_5
          - entity: switch.carl_outlet_6
          - entity: switch.carl_outlet_7

  - title: Settings
    path: settings
    icon: mdi:settings
    cards:
      - type: custom:compact-custom-header
      - type: entities
        title: Settings
        show_header_toggle: false
        entities:
          - input_boolean.guest_mode
          - input_boolean.automatic_night_theme
          - input_select.default_theme
      - type: entities
        title: Notifications
        show_header_toggle: false
        entities:
          - entity: automation.notify_plant_problems
            name: Plant problems
          - entity: input_boolean.notify_power_outages
            name: Power outages
      - type: entities
        title: Doors
        show_header_toggle: false
        entities:
          - entity: binary_sensor.kitchen_door
            name: Kitchen
            secondary_info: last-changed
          - entity: binary_sensor.living_room_door
            name: Living room
            secondary_info: last-changed
      - type: entities
        title: Windows
        show_header_toggle: false
        entities:
          - entity: binary_sensor.lounge_window
            name: Lounge
            secondary_info: last-changed
          - entity: binary_sensor.guest_bedroom_window
            name: Guest's bedroom
            secondary_info: last-changed
          - entity: binary_sensor.studio_window
            name: Studio
            secondary_info: last-changed
      - type: entities
        title: Leaks
        show_header_toggle: false
        entities:
          - entity: binary_sensor.kitchen_sink_leak
            name: Kitchen sink
            secondary_info: last-changed
          - entity: binary_sensor.water_heater_leak
            name: Water heater
            secondary_info: last-changed
      - type: entities
        title: Motion
        show_header_toggle: false
        entities:
          - entity: binary_sensor.basement_bathroom_motion
            name: Basement bathroom
            secondary_info: last-changed
          - entity: binary_sensor.main_bathroom_motion
            name: Main bathroom
            secondary_info: last-changed
          - entity: binary_sensor.laundry_room_motion
            name: Laundry
            secondary_info: last-changed
          - entity: binary_sensor.workshop_motion
            name: Workshop
            secondary_info: last-changed
      - type: entities
        title: Batteries
        show_header_toggle: false
        entities:
          - entity: sensor.all_batteries
            name: Lowest
            secondary_info: last-changed
          - type: custom:fold-entity-row
            head:
              type: section
              label: Plants
            group_config:
              secondary_info: last-changed
            items:
              - entity: sensor.maitre_doyle_battery
                name: Maître Doyle
              - entity: sensor.spidy_battery
                name: Spidy
              - entity: sensor.viny_battery
                name: Viny
          - type: custom:fold-entity-row
            head:
              type: section
              label: Sensors
            group_config:
              secondary_info: last-changed
            items:
              - entity: sensor.basement_bathroom_door_sensor_battery
                name: Basement bathroom door sensor
              - entity: sensor.basement_bathroom_multisensor_battery
                name: Basement bathroom multisensor
              - entity: sensor.kitchen_door_sensor_battery
                name: Kitchen door
              - entity: sensor.kitchen_sink_leak_sensor_battery
                name: Kitchen sink leak
              - entity: sensor.guest_bedroom_window_sensor_battery
                name: Guest's bedroom window
              - entity: sensor.studio_window_sensor_battery
                name: Studio window
              - entity: sensor.living_room_door_sensor_battery
                name: Living room door
              - entity: sensor.main_bathroom_door_sensor_battery
                name: Main bathroom door sensor
              - entity: sensor.main_bathroom_multisensor_battery
                name: Main bathroom multisensor
              - entity: sensor.lounge_window_sensor_battery
                name: Lounge window
              - entity: sensor.ups_battery_status
                name: UPS
              - entity: sensor.water_heater_leak_sensor_battery
                name: Water heater leak

  - title: Network
    path: network
    icon: mdi:server-network
    cards:
      - type: custom:compact-custom-header
      - type: entities
        title: Settings
        show_header_toggle: false
        entities:
          - input_boolean.power_outage_manage_devices
      - type: entities
        title: Notifications
        show_header_toggle: false
        entities:
          - entity: input_boolean.notify_household_changes
            name: Household changes
          - entity: input_boolean.notify_network_device_outages
            name: Network device outages
      - type: entities
        show_header_toggle: false
        title: UPS
        entities:
          - entity: sensor.ups_status
            name: Status
          - entity: sensor.ups_load
            name: Load
          - entity: sensor.ups_battery
            name: Battery
          - entity: sensor.ups_input_voltage
            name: Input voltage
          - entity: sensor.ups_time_left
            name: Time left
          - entity: sensor.ups_time_on_battery
            name: Time on battery
      - type: entities
        title: Home Assistant
        show_header_toggle: false
        entities:
          - sensor.current_home_assistant_version
          - sensor.latest_home_assistant_version
      - type: custom:tracker-card
        title: Updates
        trackers:
          - sensor.custom_card_tracker
          - sensor.custom_component_tracker
      - type: entities
        title: Automate
        show_header_toggle: false
        entities:
          - sensor.processor_use
          - sensor.processor_temperature
          - sensor.memory_use_percent
      - type: entities
        title: Media
        show_header_toggle: false
        entities:
          - entity: switch.network_media
            name: Status
            icon: mdi:flash-circle
          - entity: sensor.media_cpu_load
            name: CPU load
          - entity: sensor.media_cpu_temp
            name: CPU temperature
          - entity: sensor.media_ram_used
            name: Memory use
      - type: entities
        title: Relay South
        show_header_toggle: false
        entities:
          - entity: switch.network_relay_south
            name: Status
            icon: mdi:flash-circle
          - entity: sensor.relay_south_cpu_load
            name: CPU load
          - entity: sensor.relay_south_cpu_temp
            name: CPU temperature
          - entity: sensor.relay_south_ram_used
            name: Memory use
      - type: entities
        title: Relay North
        show_header_toggle: false
        entities:
          - entity: switch.network_relay_north
            name: Status
            icon: mdi:flash-circle
          - entity: sensor.relay_north_cpu_load
            name: CPU load
          - entity: sensor.relay_north_cpu_temp
            name: CPU temperature
          - entity: sensor.relay_north_ram_used
            name: Memory use
      - type: entities
        title: Z-Wave
        show_header_toggle: false
        entities:
          - entity: zwave.usb_controller
          - type: custom:fold-entity-row
            open: False
            head:
              type: section
              label: Hard-wired
            items:
              - entity: zwave.basement_bathroom_fan_switch
              - entity: zwave.basement_bathroom_light_switch
              - entity: zwave.basement_bathroom_vanity_light_dimmer
              - entity: zwave.basement_hallway_light_dimmer
              - entity: zwave.bookshelf_light_switch
              - entity: zwave.carl_power_strip
              - entity: zwave.dining_room_light_dimmer
              - entity: zwave.downstairs_light_switch
              - entity: zwave.front_porch_light_switch
              - entity: zwave.guest_bedroom_light_switch
              - entity: zwave.hallway_light_switch
              - entity: zwave.kitchen_light_switch
              - entity: zwave.laundry_room_light_switch
              - entity: zwave.lounge_light_dimmer
              - entity: zwave.master_bedroom_light_switch
              - entity: zwave.main_bathroom_fan_switch
              - entity: zwave.main_bathroom_light_dimmer
              - entity: zwave.main_bathroom_vanity_light_switch
              - entity: zwave.office_light_dimmer
              - entity: zwave.shed_outdoor_light_switch
              - entity: zwave.side_porch_light_switch
              - entity: zwave.workshop_light_switch
          - type: custom:fold-entity-row
            open: False
            head:
              type: section
              label: Hard-wired sensors
            items:
              - entity: zwave.laundry_motion_sensor
              - entity: zwave.workshop_motion_sensor
          - type: custom:fold-entity-row
            open: False
            head:
              type: section
              label: Battery sensors
            items:
              - entity: zwave.basement_bathroom_door_sensor
              - entity: zwave.basement_bathroom_multisensor
              - entity: zwave.guest_bedroom_window_sensor
              - entity: zwave.studio_window_sensor
              - entity: zwave.kitchen_door_sensor
              - entity: zwave.kitchen_sink_leak_sensor
              - entity: zwave.living_room_door_sensor
              - entity: zwave.lounge_window_sensor
              - entity: zwave.main_bathroom_door_sensor
              - entity: zwave.main_bathroom_multisensor
              - entity: zwave.water_heater_leak_sensor
