- name: "Default classes"
  elements:
    - pixel # Small dummy element to avoid it being clicked pointlessly
  action:
    - domain: class
      service: set
      data:
        elements:
          - layer_basement
          - layer_actions
        default_class: layer-hidden
    - domain: class
      service: set
      data:
        elements: layer_ground_floor
        default_class: layer-visible

- name: "Level navigation"
  elements:
    - staircase_to_basement
    - staircase_to_ground_floor
  action:
    - domain: class
      service: toggle
      data:
        elements:
          - layer_basement
          - layer_ground_floor
        classes:
          - layer-hidden
          - layer-visible

- name: "Actions view"
  elements:
    - actions_menu_item
    - actions_close
    - actions_overlay
  action:
    domain: class
    service: toggle
    data:
      elements: layer_actions
      classes:
        - layer-visible
        - layer-hidden

- name: "Date"
  entities:
    - sensor.date
  text_template: "${moment(entity.state).format(config.date_format)}"

- name: "Time"
  entities:
    - sensor.time

- name: "Temperature"
  entities:
    - sensor.dark_sky_temperature
  text_template: "${Math.round(entity.state) + ' ' + entity.attributes.unit_of_measurement}"

- name: "Weather icon"
  entities:
    - sensor.dark_sky_summary
  image_template: "${entity.attributes.entity_picture}"

- name: "Presence tracker"
  entities:
    - person.chris
    - person.karine
  class_template: "
    let state = entity.state;
    let cssClass = 'unknown';
    if (state === 'home') {
      cssClass = 'home';
    } else if (state === 'not_home') {
      cssClass = 'away';
    }
    return 'tracker__' + cssClass;
  "
